"use strict";(globalThis.webpackChunkrelease_tool_website=globalThis.webpackChunkrelease_tool_website||[]).push([[232],{142:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>t,contentTitle:()=>c,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"configuration","title":"Configuration","description":"\x3c!--","source":"@site/doc/configuration.md","sourceDirName":".","slug":"/configuration","permalink":"/release-tool/docs/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/sequentech/release-tool/tree/main/docs/doc/configuration.md","tags":[],"version":"current","frontMatter":{"id":"configuration","title":"Configuration"},"sidebar":"tutorialSidebar","previous":{"title":"Branching Strategy","permalink":"/release-tool/docs/branching-strategy"},"next":{"title":"Development","permalink":"/release-tool/docs/development"}}');var r=s(4848),l=s(8453);const o={id:"configuration",title:"Configuration"},c="Configuration",t={},d=[{value:"Setup in Repository",id:"setup-in-repository",level:2},{value:"Environment Variables",id:"environment-variables",level:2},{value:"Options Reference",id:"options-reference",level:2},{value:"<code>release</code>",id:"release",level:3},{value:"<code>github</code>",id:"github",level:3},{value:"<code>sync</code>",id:"sync",level:3},{value:"<code>clone_code_repo</code>",id:"clone_code_repo",level:4},{value:"<code>code_repo_path</code>",id:"code_repo_path",level:4},{value:"<code>clone_method</code>",id:"clone_method",level:4},{value:"<code>clone_url_template</code>",id:"clone_url_template",level:4},{value:"<code>cutoff_date</code>",id:"cutoff_date",level:4},{value:"<code>parallel_workers</code>",id:"parallel_workers",level:4},{value:"<code>show_progress</code>",id:"show_progress",level:4},{value:"<code>policies</code>",id:"policies",level:3},{value:"<code>issue_patterns</code>",id:"issue_patterns",level:4},{value:"<code>categories</code>",id:"categories",level:4},{value:"Fallback Category",id:"fallback-category",level:5},{value:"<code>version_gap_policy</code>",id:"version_gap_policy",level:4},{value:"<code>label_map</code>",id:"label_map",level:4}];function a(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,l.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n.header,{children:(0,r.jsx)(n.h1,{id:"configuration",children:"Configuration"})}),"\n",(0,r.jsxs)(n.p,{children:["The tool is configured using a ",(0,r.jsx)(n.code,{children:"release_tool.toml"})," file in the root of your project."]}),"\n",(0,r.jsx)(n.h2,{id:"setup-in-repository",children:"Setup in Repository"}),"\n",(0,r.jsxs)(n.ol,{children:["\n",(0,r.jsxs)(n.li,{children:["Create a file named ",(0,r.jsx)(n.code,{children:"release_tool.toml"})," in your repository root."]}),"\n",(0,r.jsx)(n.li,{children:"Add the following configuration structure:"}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[release]\ntag_prefix = "v"           # Prefix for git tags\nmain_branch = "main"       # Main branch name\n\n[github]\nowner = "sequentech"       # GitHub organization or user\n\n[database]\npath = "release_tool.db"   # Local database path\n\n[policies]\n# Regex patterns to find issues in PR titles/bodies\nissue_patterns = ["([A-Z]+-\\\\d+)"] \n\n# Categories for grouping release notes\ncategories = [\n    "Features",\n    "Bug Fixes",\n    "Documentation",\n    "Maintenance"\n]\n\n# Policy for handling version gaps (ignore, warn, error)\nversion_gap_policy = "warn"\n\n# Mapping labels to categories\n[policies.label_map]\n"enhancement" = "Features"\n"feature" = "Features"\n"bug" = "Bug Fixes"\n"fix" = "Bug Fixes"\n"docs" = "Documentation"\n"chore" = "Maintenance"\n'})}),"\n",(0,r.jsx)(n.h2,{id:"environment-variables",children:"Environment Variables"}),"\n",(0,r.jsx)(n.p,{children:"Sensitive information like tokens should be set via environment variables:"}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"GITHUB_TOKEN"}),": Your GitHub Personal Access Token."]}),"\n"]}),"\n",(0,r.jsx)(n.h2,{id:"options-reference",children:"Options Reference"}),"\n",(0,r.jsx)(n.h3,{id:"release",children:(0,r.jsx)(n.code,{children:"release"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"tag_prefix"}),': String to prepend to version numbers for git tags (e.g., "v" for "v1.0.0").']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"main_branch"}),': The name of the default branch (e.g., "main", "master").']}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"github",children:(0,r.jsx)(n.code,{children:"github"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"owner"}),": The GitHub account that owns the repositories."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"token"}),": (Optional) GitHub Personal Access Token. Recommended to use ",(0,r.jsx)(n.code,{children:"GITHUB_TOKEN"})," environment variable instead."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:"api_url"}),": (Optional) GitHub API URL. Default is ",(0,r.jsx)(n.code,{children:"https://api.github.com"}),". Use for GitHub Enterprise."]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"sync",children:(0,r.jsx)(n.code,{children:"sync"})}),"\n",(0,r.jsx)(n.p,{children:"Configuration for syncing data from GitHub."}),"\n",(0,r.jsx)(n.h4,{id:"clone_code_repo",children:(0,r.jsx)(n.code,{children:"clone_code_repo"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"bool"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Whether to clone the code repository locally for offline operation."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"code_repo_path",children:(0,r.jsx)(n.code,{children:"code_repo_path"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"str"})," (optional)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Local path where to clone/sync the code repository. If not specified, defaults to ",(0,r.jsx)(n.code,{children:".release_tool_cache/{repo_name}"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"clone_method",children:(0,r.jsx)(n.code,{children:"clone_method"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"str"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Method for cloning repositories."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Values"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"https"'}),": Clone using HTTPS with GitHub token authentication (recommended for GitHub Actions)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"ssh"'}),": Clone using SSH (requires SSH keys configured)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"auto"'}),": Try HTTPS first, fallback to SSH if it fails (default)"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default"}),": ",(0,r.jsx)(n.code,{children:'"auto"'})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[sync]\nclone_method = "https"  # For GitHub Actions\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"clone_url_template",children:(0,r.jsx)(n.code,{children:"clone_url_template"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"str"})," (optional)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Custom clone URL template for GitHub Enterprise or custom Git servers. Use ",(0,r.jsx)(n.code,{children:"{repo_full_name}"})," as placeholder."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Example"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[sync]\nclone_url_template = "https://github.enterprise.com/{repo_full_name}.git"\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"cutoff_date",children:(0,r.jsx)(n.code,{children:"cutoff_date"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"str"})," (optional)"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Only fetch issues/PRs created after this date (ISO format: YYYY-MM-DD). Speeds up initial sync."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Example"}),": ",(0,r.jsx)(n.code,{children:'"2024-01-01"'})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"parallel_workers",children:(0,r.jsx)(n.code,{children:"parallel_workers"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"int"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Number of parallel workers for GitHub API calls."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default"}),": ",(0,r.jsx)(n.code,{children:"20"})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"show_progress",children:(0,r.jsx)(n.code,{children:"show_progress"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"bool"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Show progress updates during sync."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default"}),": ",(0,r.jsx)(n.code,{children:"true"})]}),"\n"]}),"\n",(0,r.jsx)(n.h3,{id:"policies",children:(0,r.jsx)(n.code,{children:"policies"})}),"\n",(0,r.jsx)(n.p,{children:"This section controls the behavior of the release tool's logic."}),"\n",(0,r.jsx)(n.h4,{id:"issue_patterns",children:(0,r.jsx)(n.code,{children:"issue_patterns"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"List[str]"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": A list of regular expressions used to identify issue IDs in Pull Request titles and bodies."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Example"}),": ",(0,r.jsx)(n.code,{children:'["([A-Z]+-\\\\d+)"]'})," matches issues like ",(0,r.jsx)(n.code,{children:"JIRA-123"}),"."]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"categories",children:(0,r.jsx)(n.code,{children:"categories"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"List[CategoryConfig]"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": A list of category configurations for grouping release notes. Each category has a name, labels, order, and alias."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Structure"}),":","\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[[release_notes.categories]]\nname = "\ud83d\ude80 Features"       # Display name shown in release notes\nlabels = ["feature", "enhancement"]  # Labels that match this category\norder = 1                 # Display order (lower numbers appear first)\nalias = "features"        # Short identifier for templates\n'})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(n.h5,{id:"fallback-category",children:"Fallback Category"}),"\n",(0,r.jsxs)(n.p,{children:[(0,r.jsx)(n.strong,{children:"IMPORTANT"}),": One category must have ",(0,r.jsx)(n.code,{children:'alias = "other"'})," to serve as the fallback for issues/PRs that don't match any other category's labels."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Name"}),': You can name it anything (e.g., "Other", "Miscellaneous", "Other Changes")']}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Labels"}),": Should be empty ",(0,r.jsx)(n.code,{children:"[]"})," to catch unmatched items"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Order"}),": Should be high (e.g., ",(0,r.jsx)(n.code,{children:"99"}),") to appear last"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Alias"}),": ",(0,r.jsxs)(n.strong,{children:["MUST be ",(0,r.jsx)(n.code,{children:'"other"'})]})," for the tool to recognize it as the fallback"]}),"\n"]}),"\n",(0,r.jsx)(n.p,{children:"Example:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[[release_notes.categories]]\nname = "Other"              # Customizable name\nlabels = []                 # Empty to catch all unmatched\norder = 99                  # Display last\nalias = "other"             # REQUIRED - do not change\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The tool automatically assigns any issue or PR without matching labels to the category with ",(0,r.jsx)(n.code,{children:'alias="other"'}),"."]}),"\n",(0,r.jsx)(n.h4,{id:"version_gap_policy",children:(0,r.jsx)(n.code,{children:"version_gap_policy"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"str"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": Determines how the tool handles gaps between the previous version and the new version (e.g., skipping from 1.0.0 to 1.2.0)."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Values"}),":","\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"ignore"'}),": Do nothing."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"warn"'}),": Print a warning message but proceed."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.code,{children:'"error"'}),": Stop execution with an error."]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Default"}),": ",(0,r.jsx)(n.code,{children:'"warn"'})]}),"\n"]}),"\n",(0,r.jsx)(n.h4,{id:"label_map",children:(0,r.jsx)(n.code,{children:"label_map"})}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type"}),": ",(0,r.jsx)(n.code,{children:"Dict[str, str]"})]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Description"}),": A key-value mapping where keys are GitHub labels and values are the corresponding categories defined in ",(0,r.jsx)(n.code,{children:"categories"}),"."]}),"\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Example"}),": ",(0,r.jsx)(n.code,{children:'"enhancement" = "Features"'})," means PRs with the ",(0,r.jsx)(n.code,{children:"enhancement"}),' label will be listed under the "Features" section.']}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,l.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>o,x:()=>c});var i=s(6540);const r={},l=i.createContext(r);function o(e){const n=i.useContext(l);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:o(e.components),i.createElement(l.Provider,{value:n},e.children)}}}]);